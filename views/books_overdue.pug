doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title Library Books
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css' rel='stylesheet')
nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
  .container-fluid
    a.navbar-brand(href='/') Library Management Dashboard
    h4.card-title Welcome #{currentUser.firstName}
    button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target='#navbarNav' aria-controls='navbarNav' aria-expanded='false' aria-label='Toggle navigation')
      span.navbar-toggler-icon
    #navbarNav.collapse.navbar-collapse
      ul.navbar-nav.ms-auto
        li.nav-item
          a.nav-link(href='/books/addBook') Add Book
        li.nav-item
          a.nav-link(href='/users/addUser') Add User
        li.nav-item
          a.nav-link(href='/authors/addAuthor') Add Author
        li.nav-item
          a.nav-link(href='/admin/dashboard') Dashboard
        li.nav-item
          a.nav-link(href='/logout') Logout
.container
    h2.text-center.mt-5.mb-4 Books Overdue
    table.table.table-striped
        thead
        tr
            th(scope='col') Borrower
            th(scope='col') Book ID
            th(scope='col') Book Name
            th(scope='col') Book Genre
            th(scope='col') Borrowed Copies
            th(scope='col') Issue Date
            th(scope='col') Specified Return Date
            th(scope='col') Status
            th(scope='col') Action
        tbody
            if books.length
            each book in books
              if book.status === "borrowed" && book.specifiedReturnDate < new Date()
                tr
                  td #{book.borrower.fullName}
                  td #{book.bookId.bookId}
                  td #{book.bookName.bookName}
                  td #{book.genre.genre}
                  td #{book.copiesBorrowed}
                  td #{book.issueDate}
                  td #{book.specifiedReturnDate}
                  td #{book.status}
                  td
                    a.btn.btn-secondary.btn-sm(href='/books/returnBook/'+book._id) Return Book
            else
                p No Books yet :(
script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js')
